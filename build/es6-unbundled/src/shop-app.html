<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/app-layout/app-header/app-header.html"><link rel="import" href="../bower_components/app-layout/app-scroll-effects/effects/waterfall.html"><link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html"><link rel="import" href="../bower_components/app-layout/helpers/helpers.html"><link rel="import" href="../bower_components/app-route/app-location.html"><link rel="import" href="../bower_components/app-route/app-route.html"><link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html"><link rel="import" href="../bower_components/iron-media-query/iron-media-query.html"><link rel="import" href="../bower_components/iron-pages/iron-pages.html"><link rel="import" href="../bower_components/iron-selector/iron-selector.html"><link rel="import" href="shop-category-data.html"><link rel="import" href="shop-home.html"></head><body><dom-module id="shop-app"><template><style>:host{display:block;position:relative;padding-top:130px;padding-bottom:64px;min-height:100vh;--app-primary-color:#202020;--app-secondary-color:#757575;--app-accent-color:#172C50;--paper-button-ink-color:var(--app-accent-color);--paper-icon-button-ink-color:var(--app-accent-color);--paper-spinner-color:var(--app-accent-color);-webkit-tap-highlight-color:rgba(0, 0, 0, 0);color:var(--app-primary-color);}app-header{@apply --layout-fixed-top;z-index:1;background-color:rgba(255, 255, 255, 0.95);--app-header-shadow:{box-shadow:inset 0px 5px 6px -3px rgba(0, 0, 0, 0.2);height:10px;bottom:-10px;};}paper-icon-button{color:var(--app-primary-color);}.logo{text-align:center;}.logo a{font-size:16px;font-weight:600;letter-spacing:0.3em;color:var(--app-primary-color);text-decoration:none;display:inline-block;pointer-events:auto;}.left-bar-item{width:40px;}.menu-btn{display:none;}.cart-btn-container{position:relative;width:40px;}.announcer{position:fixed;height:0;overflow:hidden;}:host(:not([page=detail])) .back-btn{display:none;}[hidden]{display:none !important;}#tabContainer{position:relative;height:66px;}shop-tabs, shop-tab{--shop-tab-overlay:{border-bottom:2px solid var(--app-accent-color);};}shop-tabs{height:100%;}shop-tab{margin:0 10px;}shop-tab a{display:inline-block;outline:none;padding:9px 5px;font-size:13px;font-weight:500;text-decoration:none;color:var(--app-primary-color);}.cart-badge{position:absolute;top:-2px;right:0;width:20px;height:20px;background-color:var(--app-accent-color);border-radius:50%;color:white;font-size:12px;font-weight:500;pointer-events:none;@apply --layout-vertical;@apply --layout-center-center;}.drawer-list{margin:0 20px;}.drawer-list a{display:block;padding:0 16px;line-height:40px;text-decoration:none;color:var(--app-secondary-color);}.drawer-list a.iron-selected{color:black;font-weight:bold;}shop-cart-modal{z-index:2;}app-drawer{z-index:3;}iron-pages{max-width:1440px;margin:0 auto;}footer{position:absolute;bottom:0;left:0;right:0;text-align:center;margin-top:20px;line-height:24px;}footer > a{color:var(--app-secondary-color);text-decoration:none;}footer > a:hover{text-decoration:underline;}.demo-label{box-sizing:border-box;width:120px;padding:6px;margin:8px auto 0;background-color:var(--app-primary-color);color:white;text-transform:uppercase;}@media (max-width: 767px){:host{padding-top:64px;}.menu-btn{display:block;}:host([page=detail]) .menu-btn{display:none;}}</style><shop-analytics key="UA-39334307-16"></shop-analytics><app-location route="{{route}}"></app-location><app-route route="{{route}}" pattern="/:page" data="{{routeData}}" tail="{{subroute}}"></app-route><iron-media-query query="max-width: 767px" query-matches="{{smallScreen}}"></iron-media-query><shop-category-data categories="{{categories}}"></shop-category-data><shop-cart-data id="cart" cart="{{cart}}" num-items="{{numItems}}" total="{{total}}"></shop-cart-data><app-header role="navigation" id="header" effects="waterfall" condenses="" reveals=""><app-toolbar><div class="left-bar-item"><paper-icon-button class="menu-btn" icon="menu" on-click="_toggleDrawer" aria-label="Categories"></paper-icon-button><a class="back-btn" href="/list/[[categoryName]]" tabindex="-1"><paper-icon-button icon="arrow-back" aria-label="Go back"></paper-icon-button></a></div><div class="logo" main-title=""><a href="/" aria-label="SHOP Home">SHOP</a></div><div class="cart-btn-container"><a href="/cart" tabindex="-1"><paper-icon-button icon="shopping-cart" aria-label$="Shopping cart: [[_computePluralizedQuantity(numItems)]]"></paper-icon-button></a><div class="cart-badge" aria-hidden="true" hidden$="[[!numItems]]">[[numItems]]</div></div></app-toolbar><div id="tabContainer" sticky$="[[_shouldShowTabs]]" hidden$="[[!_shouldShowTabs]]"><dom-if if="[[_shouldRenderTabs]]"><template><shop-tabs selected="[[categoryName]]" attr-for-selected="name"><dom-repeat items="[[categories]]" as="category" initial-count="4"><template><shop-tab name="[[category.name]]"><a href="/list/[[category.name]]">[[category.title]]</a></shop-tab></template></dom-repeat></shop-tabs></template></dom-if></div></app-header><dom-if if="[[_shouldRenderDrawer]]"><template><app-drawer opened="{{drawerOpened}}" swipe-open="" tabindex="0"><iron-selector role="navigation" class="drawer-list" selected="[[categoryName]]" attr-for-selected="name"><dom-repeat items="[[categories]]" as="category" initial-count="4"><template><a name="[[category.name]]" href="/list/[[category.name]]">[[category.title]]</a></template></dom-repeat></iron-selector></app-drawer></template></dom-if><iron-pages role="main" selected="[[page]]" attr-for-selected="name" selected-attribute="visible" fallback-selection="404"><shop-home name="home" categories="[[categories]]"></shop-home><shop-list name="list" route="[[subroute]]" offline="[[offline]]"></shop-list><shop-detail name="detail" route="[[subroute]]" offline="[[offline]]"></shop-detail><shop-cart name="cart" cart="[[cart]]" total="[[total]]"></shop-cart><shop-checkout name="checkout" cart="[[cart]]" total="[[total]]" route="{{subroute}}"></shop-checkout><shop-404-warning name="404"></shop-404-warning></iron-pages><footer><a href="https://www.polymer-project.org/1.0/toolbox/">Made by Polymer</a><div class="demo-label">Demo Only</div></footer><div class="announcer" aria-live="assertive">[[_a11yLabel]]</div></template><script>window.performance&&performance.mark&&performance.mark('shop-app - before register');class ShopApp extends Polymer.Element{static get is(){return'shop-app'}static get properties(){return{page:{type:String,reflectToAttribute:!0,observer:'_pageChanged'},numItems:{type:Number,value:0},_shouldShowTabs:{computed:'_computeShouldShowTabs(page, smallScreen)'},_shouldRenderTabs:{computed:'_computeShouldRenderTabs(_shouldShowTabs, loadComplete)'},_shouldRenderDrawer:{computed:'_computeShouldRenderDrawer(smallScreen, loadComplete)'}}}static get observers(){return['_routePageChanged(routeData.page)']}constructor(){super(),window.performance&&performance.mark&&performance.mark('shop-app.created')}ready(){super.ready(),this.removeAttribute('unresolved'),this.addEventListener('add-cart-item',a=>this._onAddCartItem(a)),this.addEventListener('set-cart-item',a=>this._onSetCartItem(a)),this.addEventListener('clear-cart',a=>this._onClearCart(a)),this.addEventListener('change-section',a=>this._onChangeSection(a)),this.addEventListener('announce',a=>this._onAnnounce(a)),this.addEventListener('dom-change',a=>this._domChange(a)),this.addEventListener('show-invalid-url-warning',a=>this._onFallbackSelectionTriggered(a)),Polymer.RenderStatus.afterNextRender(this,()=>{window.addEventListener('online',a=>this._notifyNetworkStatus(a)),window.addEventListener('offline',a=>this._notifyNetworkStatus(a))})}_routePageChanged(a){'list'===this.page&&(this._listScrollTop=window.pageYOffset),this.page=a||'home',this.drawerOpened=!1}_pageChanged(a,b){if(null!=a)if('home'==a)this._pageLoaded(!!b);else{let c=this._pageLoaded.bind(this,!!b);Polymer.importHref(this.resolveUrl('shop-'+a+'.html'),c,c,!0)}}_pageLoaded(a){this._ensureLazyLoaded(),a&&Polymer.Async.timeOut.run(()=>{this.$.header.resetLayout()},1)}_ensureLazyLoaded(){this.loadComplete||Polymer.RenderStatus.afterNextRender(this,()=>{Polymer.importHref(this.resolveUrl('lazy-resources.html'),()=>{'serviceWorker'in navigator&&navigator.serviceWorker.register('service-worker.js',{scope:'/'}),this._notifyNetworkStatus(),this.loadComplete=!0})})}_notifyNetworkStatus(){let a=this.offline;this.offline=!navigator.onLine,(this.offline||!this.offline&&!0===a)&&(!this._networkSnackbar&&(this._networkSnackbar=document.createElement('shop-snackbar'),this.root.appendChild(this._networkSnackbar)),this._networkSnackbar.innerHTML=this.offline?'You are offline':'You are online',this._networkSnackbar.open())}_toggleDrawer(){this.drawerOpened=!this.drawerOpened}_onChangeSection(a){let b=a.detail,c=0;'list'===this.page&&(this.categoryName===b.category?c=this._listScrollTop:this._listScrollTop=0),Polymer.AppLayout.scroll({top:c,behavior:'silent'}),this.categoryName=b.category||'',b.title&&(document.title=b.title+' - SHOP',this._announce(b.title+', loaded'))}_onAddCartItem(a){this._cartModal||(this._cartModal=document.createElement('shop-cart-modal'),this.root.appendChild(this._cartModal)),this.$.cart.addItem(a.detail),this._cartModal.open(),this._announce('Item added to the cart')}_onSetCartItem(a){let b=a.detail;this.$.cart.setItem(b),0===b.quantity?this._announce('Item deleted'):this._announce('Quantity changed to '+b.quantity)}_onClearCart(){this.$.cart.clearCart(),this._announce('Cart cleared')}_onAnnounce(a){this._announce(a.detail)}_announce(a){this._a11yLabel='',this._announceDebouncer=Polymer.Debouncer.debounce(this._announceDebouncer,Polymer.Async.timeOut.after(100),()=>{this._a11yLabel=a})}_domChange(a){if(window.performance&&performance.mark&&!this.__loggedDomChange){let b=a.composedPath()[0],c=b.getRootNode().host;c&&c.localName.match(this.page)&&(this.__loggedDomChange=!0,performance.mark(c.localName+'.domChange'))}}_onFallbackSelectionTriggered(){this.page='404'}_computeShouldShowTabs(a,b){return('home'===a||'list'===a||'detail'===a)&&!b}_computeShouldRenderTabs(a,b){return a&&b}_computeShouldRenderDrawer(a,b){return a&&b}_computePluralizedQuantity(a){return a+' '+(1===a?'item':'items')}}customElements.define(ShopApp.is,ShopApp);</script></dom-module></body></html>